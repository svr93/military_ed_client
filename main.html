<!DOCTYPE html>
<html>
  <head>
    <title>Центр контроля</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, maximum-scale=0.67">

    <style>
      body {
        text-align: center;
      }
      button {
        height: 50px;
        border-radius: 25px;
      }
      .container {
        display: inline-block;
        border: 2px solid green;
      }
    </style>

    <script>
      // requirements: IE9+ or other modern browsers

      "use strict"; // is not supported in IE9

      var isSystemWorking = false;

      function init() { // main script onload
        initEarthDrawingSettings();

        document.addEventListener("DOMContentLoaded", function() {
          buttonContainer.style.display = "block";

          reduceScale.onclick = function() {
            changeScale(-0.025);
          };

          increaseScale.onclick = function() {
            changeScale(0.025);
          };

          startButton.onclick = function() {
            begin();
          };

        });
      }

      function begin() { // startButton onclick
        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function() {
          if (this.readyState != 4 || this.status != 200) return;

          alert("Система работает, начинаем получение координат...");
          isSystemWorking = true;
        }

        xhr.open("GET",
        "/ControlCenterService/fromControlCenter?latitude=34.5n&longitude=56.9e");

        xhr.send();
      }
    </script>

    <script defer src="js/satellitesDrawer-2.0.js"></script>
    <script defer src="js/earthDrawer.js" onload="init()"></script>
    
    <script defer src="js/angular.min.js"></script>
  </head>

  <body>
    <canvas id="earthCnv" class="container"></canvas><!--
  --><div class="container" style="width:500px; height:500px;
      vertical-align:top">

      <div id="info_block" style="height:50px"></div>

      <div id="buttonContainer" style="display:none; margin:auto; width:50%">
        <button id="reduceScale" style="width:50%">scale-</button><!--
      --><button id="increaseScale" style="width:50%">scale+</button>
        <br>
        <br>
        <button disabled="true" id="startButton" style="width:100%">
          Старт
        </button>
      </div>
    </div>
  </body>
</html>
